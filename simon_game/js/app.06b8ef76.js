(function(e){function t(t){for(var i,s,c=t[0],o=t[1],u=t[2],d=0,m=[];d<c.length;d++)s=c[d],Object.prototype.hasOwnProperty.call(r,s)&&r[s]&&m.push(r[s][0]),r[s]=0;for(i in o)Object.prototype.hasOwnProperty.call(o,i)&&(e[i]=o[i]);l&&l(t);while(m.length)m.shift()();return a.push.apply(a,u||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],i=!0,c=1;c<n.length;c++){var o=n[c];0!==r[o]&&(i=!1)}i&&(a.splice(t--,1),e=s(s.s=n[0]))}return e}var i={},r={app:0},a=[];function s(t){if(i[t])return i[t].exports;var n=i[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=e,s.c=i,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)s.d(n,i,function(t){return e[t]}.bind(null,i));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],o=c.push.bind(c);c.push=t,c=c.slice();for(var u=0;u<c.length;u++)t(c[u]);var l=o;a.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"2fa0":function(e,t,n){"use strict";var i=n("eecc"),r=n.n(i);r.a},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var i=n("2b0e"),r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("div",{staticClass:"simon-game-wrapper"},[n("simon-game")],1)])},a=[],s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"simon-game"},[n("div",{staticClass:"simon-game__container"},[n("div",{staticClass:"simon-game__pizza",class:{active:!e.disable_pizza}},e._l(e.fields,(function(t,i){return n("div",{key:t,ref:"pizza_item_"+i,refInFor:!0,staticClass:"simon-game__item",on:{click:function(t){return e.clickItem(i)}}})})),0),n("div",{staticClass:"simon-game__control"},[n("div",{staticClass:"simon-game__round"},[e._v(e._s("Round: "+e.items.length))]),n("div",{staticClass:"simon-game__start-game"},[n("button",{attrs:{disabled:e.game},on:{click:function(t){return e.startGame()}}},[e._v("Начать игру")]),n("button",{on:{click:function(t){return e.cancelGame()}}},[e._v("Закончить игру")])]),n("div",{staticClass:"simon-game__options"},[n("div",[e._v("Уровень сложности")]),n("div",e._l(e.levels,(function(t,i){return n("div",{key:i},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.selected_level,expression:"selected_level"}],attrs:{type:"radio",name:"settings"},domProps:{value:t,checked:e._q(e.selected_level,t)},on:{change:function(n){e.selected_level=t}}}),e._v(e._s(t.name)+" ")])})),0)])]),e.notification?n("div",{staticClass:"simon-game__notification",on:{click:function(t){e.notification=!e.notification}}},[n("div",{staticClass:"container"},[e._v("Вы проиграли")])]):e._e(),n("div",{ref:"audio"})])])},c=[],o=(n("d3b7"),n("96cf"),n("1da1")),u={data:function(){return{audio_number:"",fields:[0,1,2,3],items:[],selected_items:[],disable_pizza:!0,levels:{0:{name:"Легкий",period:1500},1:{name:"Средний",period:1e3},2:{name:"Сложный",period:400}},selected_level:{},notification:!1,game:!1,count:0}},mounted:function(){this.selected_level=this.levels[0]},methods:{addAudioSource:function(e){var t='\n              <audio autoplay>\n                <source src="http://www.kellyking.me/projects/simon/sounds/'.concat(e,'.mp3">\n              </audio>\n            ');this.$refs.audio.innerHTML=t},addRandomElementInItems:function(){var e=this;return new Promise((function(t){var n=Math.abs(Math.round(4*Math.random()-.5));e.items.push(n),t()}))},highlightAllPizzaItems:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.highlightPizzaItem(e.items[e.count]);case 2:if(!(e.count<e.items.length-1)){t.next=7;break}return e.count++,t.next=6,e.highlightAllPizzaItems();case 6:return t.abrupt("return",t.sent);case 7:case"end":return t.stop()}}),t)})))()},highlightPizzaItem:function(e){var t=this;return new Promise((function(n){var i=t.$refs["pizza_item_".concat(e)][0];i.classList.add("dedicated"),t.addAudioSource(e+1),setTimeout((function(){i.classList.remove("dedicated")}),250),setTimeout((function(){n()}),t.selected_level.period)}))},clickItem:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(!t.disable_pizza){n.next=2;break}return n.abrupt("return");case 2:return t.disable_pizza=!0,t.count=0,t.addAudioSource(e+1),t.selected_items.push(e),n.next=8,t.checkEqualElements().then(Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.items.length!==t.selected_items.length){e.next=6;break}return e.next=3,t.addRandomElementInItems();case 3:setTimeout(Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.highlightAllPizzaItems();case 2:t.disable_pizza=!1,t.selected_items=[];case 4:case"end":return e.stop()}}),e)}))),700),e.next=7;break;case 6:t.disable_pizza=!1;case 7:case"end":return e.stop()}}),e)})))).catch((function(){t.notification=!0,t.cancelGame()}));case 8:case"end":return n.stop()}}),n)})))()},checkEqualElements:function(){var e=this;return new Promise((function(t,n){for(var i in e.selected_items)e.items[i]!==e.selected_items[i]&&n();t()}))},cancelGame:function(){this.game=!1,this.count=0,this.disable_pizza=!0,this.items=[],this.selected_items=[]},startGame:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.game=!0,e.count=0,e.disable_pizza=!0,t.next=5,e.addRandomElementInItems();case 5:setTimeout(Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.highlightAllPizzaItems();case 2:e.disable_pizza=!1;case 3:case"end":return t.stop()}}),t)}))),300);case 6:case"end":return t.stop()}}),t)})))()}}},l=u,d=(n("2fa0"),n("2877")),m=Object(d["a"])(l,s,c,!1,null,null,null),f=m.exports,p={name:"App",components:{"simon-game":f}},h=p,v=(n("5c0b"),Object(d["a"])(h,r,a,!1,null,null,null)),_=v.exports;i["a"].config.productionTip=!1,new i["a"]({render:function(e){return e(_)}}).$mount("#app")},"5c0b":function(e,t,n){"use strict";var i=n("9c0c"),r=n.n(i);r.a},"9c0c":function(e,t,n){},eecc:function(e,t,n){}});
//# sourceMappingURL=app.06b8ef76.js.map